import{N as a,w as p,x as u,y as d,L as g,z as h}from"./DHPsTKRz.js";const L=Symbol("is custom element"),M=Symbol("is html");function I(r,s,n,t){var o=y(r);if(u&&(o[s]=r.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&r.nodeName==="LINK")){T(r,s,n??"");return}o[s]!==(o[s]=n)&&(s==="loading"&&(r[g]=n),n==null?r.removeAttribute(s):typeof n!="string"&&N(r).includes(s)?r[s]=n:r.setAttribute(s,n))}function y(r){return r.__attributes??={[L]:r.nodeName.includes("-"),[M]:r.namespaceURI===a}}var _=new Map;function N(r){var s=_.get(r.nodeName);if(s)return s;_.set(r.nodeName,s=[]);for(var n,t=r,o=Element.prototype;o!==t;){n=d(t);for(var i in n)n[i].set&&s.push(i);t=p(t)}return s}function T(r,s,n){s==="srcset"&&A(r,n)||c(r.getAttribute(s)??"",n)||h(s,r.outerHTML.replace(r.innerHTML,r.innerHTML&&"..."),String(n))}function c(r,s){return r===s?!0:new URL(r,document.baseURI).href===new URL(s,document.baseURI).href}function f(r){return r.split(",").map(s=>s.trim().split(" ").filter(Boolean))}function A(r,s){var n=f(r.srcset),t=f(s);return t.length===n.length&&t.every(([o,i],e)=>i===n[e][1]&&(c(n[e][0],o)||c(o,n[e][0])))}export{I as s};
