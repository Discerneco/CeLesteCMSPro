import{L as a,N as p,w as u,x as g,y as d,z as h}from"./tp5JRMD4.js";const L=Symbol("is custom element"),y=Symbol("is html");function I(r,s,t,o){var n=M(r);if(g&&(n[s]=r.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&r.nodeName==="LINK")){T(r,s,t??"");return}n[s]!==(n[s]=t)&&(s==="loading"&&(r[a]=t),t==null?r.removeAttribute(s):typeof t!="string"&&A(r).includes(s)?r[s]=t:r.setAttribute(s,t))}function M(r){return r.__attributes??={[L]:r.nodeName.includes("-"),[y]:r.namespaceURI===p}}var _=new Map;function A(r){var s=r.getAttribute("is")||r.nodeName,t=_.get(s);if(t)return t;_.set(s,t=[]);for(var o,n=r,e=Element.prototype;e!==n;){o=d(n);for(var i in o)o[i].set&&t.push(i);n=u(n)}return t}function T(r,s,t){s==="srcset"&&N(r,t)||c(r.getAttribute(s)??"",t)||h(s,r.outerHTML.replace(r.innerHTML,r.innerHTML&&"..."),String(t))}function c(r,s){return r===s?!0:new URL(r,document.baseURI).href===new URL(s,document.baseURI).href}function f(r){return r.split(",").map(s=>s.trim().split(" ").filter(Boolean))}function N(r,s){var t=f(r.srcset),o=f(s);return o.length===t.length&&o.every(([n,e],i)=>e===t[i][1]&&(c(t[i][0],n)||c(n,t[i][0])))}export{I as s};
